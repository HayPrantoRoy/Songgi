<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="css/style.css">
    <title>Songgi</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #ffffff;
            color: #1f2937;
            line-height: 1.5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .header {
            background: #f9fafb;
            padding: 32px 24px;
            border-bottom: 1px solid #e5e7eb;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 4px;
        }

        .header p {
            font-size: 16px;
            color: #6b7280;
        }

        .controls {
            padding: 24px;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .search-container {
            position: relative;
            max-width: 400px;
            width: 100%;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            color: #9ca3af;
        }

        .search-box input {
            width: 100%;
            padding: 12px 12px 12px 40px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            color: #374151;
        }

        .search-box input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .search-box input::placeholder {
            color: #9ca3af;
        }

        /* Add Data Button */
        .add-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }

        .add-btn:hover {
            background: #2563eb;
        }

        .add-btn svg {
            width: 18px;
            height: 18px;
        }

        .table-wrapper {
            overflow-x: auto;
            background: white;
        }

        .data-table {
            width: 0%;
            border-collapse: separate;
            border-spacing: 0 8px;
            padding: 0px;
            min-width: 500px;
        }

        .data-table thead tr {
            background: none;
        }

        .data-table th {
            background: none;
            padding: 16px 16px 8px 16px;
            text-align: left;
            font-weight: 500;
            color: #6b7280;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: none;
        }

        .data-table tbody tr {
            background: #f8fafc;
            border-radius: 12px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
        }

        .data-table tbody tr:hover {
            background: #f1f5f9;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .data-table td {
            padding: 20px 16px;
            font-size: 14px;
            border: none;
            background: transparent;
            vertical-align: middle;
        }

        .data-table tbody tr td:first-child {
            border-top-left-radius: 12px;
            border-bottom-left-radius: 12px;
        }

        .data-table tbody tr td:last-child {
            border-top-right-radius: 12px;
            border-bottom-right-radius: 12px;
        }

        .company-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .company-img {
            width: 44px;
            height: 44px;
            border-radius: 8px;
            object-fit: cover;
            border: 1px solid #e5e7eb;
        }

        .company-name {
            font-weight: 500;
            color: #111827;
            font-size: 14px;
        }

        .contact-info {
            line-height: 1.4;
        }

        .contact-name {
            font-weight: 500;
            color: #111827;
            font-size: 14px;
        }

        .contact-email {
            font-size: 13px;
            color: #6b7280;
            margin-top: 2px;
        }

        .status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .status.active {
            background: #d1fae5;
            color: #059669;
        }

        .status.active .status-dot {
            background: #059669;
        }

        .status.inactive {
            background: #fee2e2;
            color: #dc2626;
        }

        .status.inactive .status-dot {
            background: #dc2626;
        }

        .status.pending {
            background: #fef3c7;
            color: #d97706;
        }

        .status.pending .status-dot {
            background: #d97706;
        }

        .priority {
            font-weight: 500;
            font-size: 14px;
        }

        .priority.high { color: #dc2626; }
        .priority.medium { color: #d97706; }
        .priority.low { color: #059669; }

        .revenue {
            font-weight: 600;
            color: #111827;
            font-size: 14px;
        }

        .actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #6b7280;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: #f9fafb;
            color: #374151;
        }

        .action-btn.view {
            border-color: #3b82f6;
            color: #3b82f6;
        }

        .action-btn.view:hover {
            background: #dbeafe;
        }

        .action-btn.edit {
            border-color: #059669;
            color: #059669;
        }

        .action-btn.edit:hover {
            background: #d1fae5;
        }

        .action-btn.delete {
            border-color: #dc2626;
            color: #dc2626;
        }

        .action-btn.delete:hover {
            background: #fee2e2;
        }

        .action-btn svg {
            width: 16px;
            height: 16px;
        }

        /* Pagination */
        .pagination {
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #e5e7eb;
        }

        .pagination-info {
            color: #6b7280;
            font-size: 14px;
        }

        .pagination-buttons {
            display: flex;
            gap: 8px;
        }

        .page-btn {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            background: white;
            color: #374151;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .page-btn:hover:not(:disabled) {
            background: #f9fafb;
        }

        .page-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s;
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s;
        }

        .modal-header {
            padding: 24px 24px 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
            padding: 4px;
            border-radius: 4px;
        }

        .modal-close:hover {
            background: #f9fafb;
        }

        .modal-body {
            padding: 24px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 4px;
        }

        .form-group input,
        .form-group select {
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            color: #374151;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid #e5e7eb;
        }

        .btn {
            padding: 10px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
            border: 1px solid #3b82f6;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #f9fafb;
        }

        /* View Modal specific styles */
        .view-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .view-item {
            padding: 16px;
            background: #f9fafb;
            border-radius: 8px;
        }

        .view-label {
            font-size: 12px;
            font-weight: 500;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .view-value {
            font-size: 14px;
            color: #111827;
            font-weight: 500;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 24px 16px;
            }

            .header h1 {
                font-size: 24px;
            }

            .controls {
                padding: 16px;
                flex-direction: column;
                align-items: stretch;
            }

            .search-container {
                max-width: none;
            }

            .data-table {
                padding: 0 16px 16px 16px;
                min-width: 600px;
            }

            .data-table th,
            .data-table td {
                padding: 2px 5px;
            }

            .company-img {
                width: 36px;
                height: 36px;
            }

            .pagination {
                padding: 16px;
                flex-direction: column;
                gap: 16px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                margin: 10% auto;
                width: 95%;
            }

            .actions {
                flex-wrap: wrap;
            }

            .action-btn {
                width: 28px;
                height: 28px;
            }
        }

        @media (max-width: 480px) {
            .data-table {
                min-width: 400px;
            }
            
            .company-info {
                flex-direction: column;
                gap: 4px;
                text-align: center;
            }
            
            .contact-info {
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <nav class="bottom-nav">
        <div class="nav-container">
            <a href="index.php" class="nav-item active">
                <img src="img/home2.png" alt="Home" class="nav-icon">
                <span class="nav-label">Home</span>
            </a>
            
            <a href="order.php" class="nav-item">
                <img src="img/order-delivery.png" alt="Shopping" class="nav-icon">
                <span class="nav-label">Total Orders</span>
            </a>
            
            <a href="post.php" class="nav-item">
                <img src="img/ringing.png" alt="Posts" class="nav-icon">
                <span class="nav-label">Notification</span>
            </a>
            
            <a href="about.php" class="nav-item">
                <img src="img/logout.png" alt="About" class="nav-icon">
                <span class="nav-label">Logout</span>
            </a>
        </div>
    </nav>
    <div class="container">
        <div class="header">
            <h1>Business Data Management</h1>
            <p>Manage and track your business contacts</p>
        </div>

        <div class="controls">
            <div class="search-container">
                <svg class="search-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                </svg>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search companies, contacts, locations...">
                </div>
            </div>
            <button class="add-btn" onclick="openAddModal()">
                <svg fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path>
                </svg>
                Add Data
            </button>
        </div>

        <div class="table-wrapper">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Company</th>
                        
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Table content will be populated by JavaScript -->
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <div class="pagination-info">
                Showing <span id="startRecord">1</span> to <span id="endRecord">10</span> of <span id="totalRecords">0</span> results
            </div>
            <div class="pagination-buttons">
                <button class="page-btn" id="prevBtn" onclick="changePage(-1)">Previous</button>
                <div id="pageNumbers"></div>
                <button class="page-btn" id="nextBtn" onclick="changePage(1)">Next</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Modal -->
    <div id="dataModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Add New Business</h2>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="dataForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="companyName">Company Name</label>
                            <input type="text" id="companyName" required>
                        </div>
                        <div class="form-group">
                            <label for="contactName">Contact Name</label>
                            <input type="text" id="contactName" required>
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Contact Email</label>
                            <input type="email" id="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <input type="tel" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" required>
                        </div>
                        <div class="form-group">
                            <label for="industry">Industry</label>
                            <select id="industry" required>
                                <option value="">Select Industry</option>
                                <option value="Technology">Technology</option>
                                <option value="Manufacturing">Manufacturing</option>
                                <option value="Retail">Retail</option>
                                <option value="Healthcare">Healthcare</option>
                                <option value="Finance">Finance</option>
                                <option value="Education">Education</option>
                                <option value="Real Estate">Real Estate</option>
                                <option value="Consulting">Consulting</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="revenue">Revenue</label>
                            <input type="text" id="revenue" placeholder="e.g., $2.5M" required>
                        </div>
                        <div class="form-group">
                            <label for="employees">Employees</label>
                            <input type="number" id="employees" required>
                        </div>
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select id="status" required>
                                <option value="">Select Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="pending">Pending</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="priority">Priority</label>
                            <select id="priority" required>
                                <option value="">Select Priority</option>
                                <option value="high">High</option>
                                <option value="medium">Medium</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- View Modal -->
    <div id="viewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Business Details</h2>
                <button class="modal-close" onclick="closeViewModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="viewContent" class="view-grid">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Business data storage and management
        let businessData = [];
        let currentPage = 1;
        const recordsPerPage = 10;
        let filteredData = [];
        let editingIndex = -1;

        // Sample company images
        const companyImages = [
            'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1572021335469-31706a17aaef?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1497366216548-37526070297c?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1551434678-e076c223a692?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1542744173-8e7e53415bb0?w=100&h=100&fit=crop&crop=center',
            'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=center'
        ];

        // Initialize with demo data
        function initializeDemoData() {
            const demoData = [
                {
                    id: 1,
                    companyName: 'TechCorp Solutions',
                    contactName: 'John Smith',
                    contactEmail: 'john@techcorp.com',
                    phone: '+1-555-0101',
                    location: 'New York, NY',
                    industry: 'Technology',
                    revenue: '$2.5M',
                    employees: 45,
                    status: 'active',
                    priority: 'high',
                    lastContact: '2024-08-01',
                    image: companyImages[0]
                },
                {
                    id: 2,
                    companyName: 'Global Manufacturing Inc',
                    contactName: 'Sarah Johnson',
                    contactEmail: 'sarah@globalmfg.com',
                    phone: '+1-555-0202',
                    location: 'Chicago, IL',
                    industry: 'Manufacturing',
                    revenue: '$8.3M',
                    employees: 120,
                    status: 'active',
                    priority: 'medium',
                    lastContact: '2024-07-28',
                    image: companyImages[1]
                },
                {
                    id: 3,
                    companyName: 'Metro Retail Group',
                    contactName: 'Mike Davis',
                    contactEmail: 'mike@metroretail.com',
                    phone: '+1-555-0303',
                    location: 'Los Angeles, CA',
                    industry: 'Retail',
                    revenue: '$4.7M',
                    employees: 85,
                    status: 'pending',
                    priority: 'high',
                    lastContact: '2024-08-03',
                    image: companyImages[2]
                },
                {
                    id: 4,
                    companyName: 'Healthcare Plus',
                    contactName: 'Lisa Brown',
                    contactEmail: 'lisa@healthplus.com',
                    phone: '+1-555-0404',
                    location: 'Miami, FL',
                    industry: 'Healthcare',
                    revenue: '$3.2M',
                    employees: 65,
                    status: 'active',
                    priority: 'medium',
                    lastContact: '2024-07-25',
                    image: companyImages[3]
                },
                {
                    id: 5,
                    companyName: 'Financial Services Corp',
                    contactName: 'Robert Wilson',
                    contactEmail: 'robert@finservices.com',
                    phone: '+1-555-0505',
                    location: 'Boston, MA',
                    industry: 'Finance',
                    revenue: '$6.8M',
                    employees: 95,
                    status: 'inactive',
                    priority: 'low',
                    lastContact: '2024-06-15',
                    image: companyImages[4]
                },
                {
                    id: 6,
                    companyName: 'EduTech Solutions',
                    contactName: 'Emma Thompson',
                    contactEmail: 'emma@edutech.com',
                    phone: '+1-555-0606',
                    location: 'Seattle, WA',
                    industry: 'Education',
                    revenue: '$1.8M',
                    employees: 32,
                    status: 'active',
                    priority: 'medium',
                    lastContact: '2024-07-30',
                    image: companyImages[5]
                },
                {
                    id: 7,
                    companyName: 'Real Estate Partners',
                    contactName: 'David Miller',
                    contactEmail: 'david@realtypartners.com',
                    phone: '+1-555-0707',
                    location: 'Denver, CO',
                    industry: 'Real Estate',
                    revenue: '$5.2M',
                    employees: 28,
                    status: 'active',
                    priority: 'high',
                    lastContact: '2024-08-02',
                    image: companyImages[6]
                },
                {
                    id: 8,
                    companyName: 'Consulting Experts',
                    contactName: 'Jennifer Lee',
                    contactEmail: 'jennifer@consultexperts.com',
                    phone: '+1-555-0808',
                    location: 'Austin, TX',
                    industry: 'Consulting',
                    revenue: '$3.5M',
                    employees: 42,
                    status: 'pending',
                    priority: 'medium',
                    lastContact: '2024-07-22',
                    image: companyImages[7]
                },
                {
                    id: 9,
                    companyName: 'Green Energy Co',
                    contactName: 'Michael Green',
                    contactEmail: 'michael@greenenergy.com',
                    phone: '+1-555-0909',
                    location: 'Portland, OR',
                    industry: 'Technology',
                    revenue: '$7.1M',
                    employees: 78,
                    status: 'active',
                    priority: 'high',
                    lastContact: '2024-08-04',
                    image: companyImages[8]
                },
                {
                    id: 10,
                    companyName: 'Food Distribution LLC',
                    contactName: 'Rachel Garcia',
                    contactEmail: 'rachel@fooddist.com',
                    phone: '+1-555-1010',
                    location: 'Phoenix, AZ',
                    industry: 'Retail',
                    revenue: '$4.3M',
                    employees: 67,
                    status: 'active',
                    priority: 'medium',
                    lastContact: '2024-07-26',
                    image: companyImages[9]
                },
                {
                    id: 11,
                    companyName: 'Digital Marketing Pro',
                    contactName: 'Alex Johnson',
                    contactEmail: 'alex@digitalmarketing.com',
                    phone: '+1-555-1111',
                    location: 'San Francisco, CA',
                    industry: 'Technology',
                    revenue: '$2.1M',
                    employees: 35,
                    status: 'active',
                    priority: 'high',
                    lastContact: '2024-08-05',
                    image: companyImages[0]
                },
                {
                    id: 12,
                    companyName: 'Construction Masters',
                    contactName: 'Tom Anderson',
                    contactEmail: 'tom@constructionmasters.com',
                    phone: '+1-555-1212',
                    location: 'Las Vegas, NV',
                    industry: 'Manufacturing',
                    revenue: '$9.2M',
                    employees: 150,
                    status: 'inactive',
                    priority: 'low',
                    lastContact: '2024-06-10',
                    image: companyImages[1]
                },
                {
                    id: 13,
                    companyName: 'Fashion Retail Chain',
                    contactName: 'Sophie Williams',
                    contactEmail: 'sophie@fashionretail.com',
                    phone: '+1-555-1313',
                    location: 'Miami Beach, FL',
                    industry: 'Retail',
                    revenue: '$6.4M',
                    employees: 89,
                    status: 'pending',
                    priority: 'medium',
                    lastContact: '2024-07-31',
                    image: companyImages[2]
                },
                {
                    id: 14,
                    companyName: 'Medical Supplies Inc',
                    contactName: 'Dr. James Wilson',
                    contactEmail: 'james@medsupplies.com',
                    phone: '+1-555-1414',
                    location: 'Atlanta, GA',
                    industry: 'Healthcare',
                    revenue: '$5.8M',
                    employees: 73,
                    status: 'active',
                    priority: 'high',
                    lastContact: '2024-08-06',
                    image: companyImages[3]
                },
                {
                    id: 15,
                    companyName: 'Investment Solutions',
                    contactName: 'Maria Rodriguez',
                    contactEmail: 'maria@investsolutions.com',
                    phone: '+1-555-1515',
                    location: 'Dallas, TX',
                    industry: 'Finance',
                    revenue: '$12.7M',
                    employees: 112,
                    status: 'active',
                    priority: 'high',
                    lastContact: '2024-08-01',
                    image: companyImages[4]
                }
            ];

            businessData = demoData;
            saveToStorage();
            loadFromStorage();
        }

        // Storage functions
        function saveToStorage() {
            try {
                const dataToSave = JSON.stringify(businessData);
                // Using a variable instead of localStorage as requested
                window.businessDataStorage = dataToSave;
            } catch (error) {
                console.error('Error saving data:', error);
            }
        }

        function loadFromStorage() {
            try {
                const savedData = window.businessDataStorage;
                if (savedData) {
                    businessData = JSON.parse(savedData);
                }
                filteredData = [...businessData];
                renderTable();
                updatePagination();
            } catch (error) {
                console.error('Error loading data:', error);
                filteredData = [...businessData];
                renderTable();
                updatePagination();
            }
        }

        // Render table
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            const startIndex = (currentPage - 1) * recordsPerPage;
            const endIndex = startIndex + recordsPerPage;
            const currentData = filteredData.slice(startIndex, endIndex);

            tbody.innerHTML = '';

            currentData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <!-- Company Image Column -->
<td>
    <div class="company-info-img">
        <img src="${item.image}" class="company-img" alt="${item.companyName}">
    </div>
</td>

<!-- Company Name Column -->
<td>
    <div class="company-info-name">
        <span class="company-name">${item.companyName}</span>
    </div>
</td>

<!-- Actions Column -->
<td>
    <div class="actions">
        <div class="action-btn view" title="View Details" onclick="viewItem(${startIndex + index})">
            <svg fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path>
            </svg>
        </div>
        <div class="action-btn edit" title="Edit" onclick="editItem(${startIndex + index})">
            <svg fill="currentColor" viewBox="0 0 20 20">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
            </svg>
        </div>
        <div class="action-btn delete" title="Delete" onclick="deleteItem(${startIndex + index})">
            <svg fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9zM4 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 112 0v4a1 1 0 11-2 0V9zm4 0a1 1 0 112 0v4a1 1 0 11-2 0V9z" clip-rule="evenodd"></path>
            </svg>
        </div>
    </div>
</td>

                `;
                tbody.appendChild(row);
            });
        }

        // Update pagination
        function updatePagination() {
            const totalPages = Math.ceil(filteredData.length / recordsPerPage);
            const startRecord = (currentPage - 1) * recordsPerPage + 1;
            const endRecord = Math.min(currentPage * recordsPerPage, filteredData.length);

            document.getElementById('startRecord').textContent = filteredData.length > 0 ? startRecord : 0;
            document.getElementById('endRecord').textContent = endRecord;
            document.getElementById('totalRecords').textContent = filteredData.length;

            // Update pagination buttons
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages || totalPages === 0;

            // Generate page numbers
            const pageNumbers = document.getElementById('pageNumbers');
            pageNumbers.innerHTML = '';

            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);

            if (endPage - startPage < maxVisiblePages - 1) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }

            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                pageBtn.textContent = i;
                pageBtn.onclick = () => goToPage(i);
                pageNumbers.appendChild(pageBtn);
            }
        }

        // Pagination functions
        function changePage(direction) {
            const totalPages = Math.ceil(filteredData.length / recordsPerPage);
            const newPage = currentPage + direction;
            
            if (newPage >= 1 && newPage <= totalPages) {
                currentPage = newPage;
                renderTable();
                updatePagination();
            }
        }

        function goToPage(page) {
            currentPage = page;
            renderTable();
            updatePagination();
        }

        // Modal functions
        function openAddModal() {
            editingIndex = -1;
            document.getElementById('modalTitle').textContent = 'Add New Business';
            document.getElementById('dataForm').reset();
            document.getElementById('dataModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function editItem(index) {
            editingIndex = index;
            const item = filteredData[index];
            
            document.getElementById('modalTitle').textContent = 'Edit Business';
            document.getElementById('companyName').value = item.companyName;
            document.getElementById('contactName').value = item.contactName;
            document.getElementById('contactEmail').value = item.contactEmail;
            document.getElementById('phone').value = item.phone;
            document.getElementById('location').value = item.location;
            document.getElementById('industry').value = item.industry;
            document.getElementById('revenue').value = item.revenue;
            document.getElementById('employees').value = item.employees;
            document.getElementById('status').value = item.status;
            document.getElementById('priority').value = item.priority;
            
            document.getElementById('dataModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('dataModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function viewItem(index) {
            const item = filteredData[index];
            const viewContent = document.getElementById('viewContent');
            
            viewContent.innerHTML = `
                <div class="view-item">
                    <div class="view-label">ID</div>
                    <div class="view-value">${item.id}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Company Name</div>
                    <div class="view-value">${item.companyName}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Contact Name</div>
                    <div class="view-value">${item.contactName}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Contact Email</div>
                    <div class="view-value">${item.contactEmail}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Phone</div>
                    <div class="view-value">${item.phone}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Location</div>
                    <div class="view-value">${item.location}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Industry</div>
                    <div class="view-value">${item.industry}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Revenue</div>
                    <div class="view-value">${item.revenue}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Employees</div>
                    <div class="view-value">${item.employees}</div>
                </div>
                <div class="view-item">
                    <div class="view-label">Priority</div>
                    <div class="view-value">
                        <span class="priority ${item.priority}">${item.priority.charAt(0).toUpperCase() + item.priority.slice(1)}</span>
                    </div>
                </div>
                <div class="view-item">
                    <div class="view-label">Last Contact</div>
                    <div class="view-value">${item.lastContact}</div>
                </div>
            `;
            
            document.getElementById('viewModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeViewModal() {
            document.getElementById('viewModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function deleteItem(index) {
            if (confirm('Are you sure you want to delete this business record?')) {
                const actualIndex = businessData.findIndex(item => item.id === filteredData[index].id);
                businessData.splice(actualIndex, 1);
                saveToStorage();
                
                // Update filtered data
                filteredData = [...businessData];
                
                // Apply current search if any
                const searchTerm = document.getElementById('searchInput').value;
                if (searchTerm) {
                    filterData(searchTerm);
                }
                
                // Adjust current page if necessary
                const totalPages = Math.ceil(filteredData.length / recordsPerPage);
                if (currentPage > totalPages && totalPages > 0) {
                    currentPage = totalPages;
                }
                
                renderTable();
                updatePagination();
            }
        }

        // Form submission
        document.getElementById('dataForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                companyName: document.getElementById('companyName').value,
                contactName: document.getElementById('contactName').value,
                contactEmail: document.getElementById('contactEmail').value,
                phone: document.getElementById('phone').value,
                location: document.getElementById('location').value,
                industry: document.getElementById('industry').value,
                revenue: document.getElementById('revenue').value,
                employees: parseInt(document.getElementById('employees').value),
                status: document.getElementById('status').value,
                priority: document.getElementById('priority').value,
                lastContact: new Date().toISOString().split('T')[0],
                image: companyImages[Math.floor(Math.random() * companyImages.length)]
            };
            
            if (editingIndex === -1) {
                // Adding new item
                formData.id = businessData.length > 0 ? Math.max(...businessData.map(item => item.id)) + 1 : 1;
                businessData.push(formData);
            } else {
                // Editing existing item
                const actualIndex = businessData.findIndex(item => item.id === filteredData[editingIndex].id);
                formData.id = businessData[actualIndex].id;
                businessData[actualIndex] = formData;
            }
            
            saveToStorage();
            filteredData = [...businessData];
            
            // Apply current search if any
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm) {
                filterData(searchTerm);
            }
            
            renderTable();
            updatePagination();
            closeModal();
        });

        // Search functionality
        function filterData(searchTerm) {
            filteredData = businessData.filter(item => {
                return Object.values(item).some(value => 
                    value.toString().toLowerCase().includes(searchTerm.toLowerCase())
                );
            });
            currentPage = 1;
            renderTable();
            updatePagination();
        }

        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value;
            if (searchTerm.trim() === '') {
                filteredData = [...businessData];
            } else {
                filterData(searchTerm);
            }
        });

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            const dataModal = document.getElementById('dataModal');
            const viewModal = document.getElementById('viewModal');
            
            if (e.target === dataModal) {
                closeModal();
            }
            if (e.target === viewModal) {
                closeViewModal();
            }
        });

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Check if data exists in storage, if not initialize with demo data
            if (!window.businessDataStorage) {
                initializeDemoData();
            } else {
                loadFromStorage();
            }
        });
    </script>
    <br><br><br><br>
</body>
</html>