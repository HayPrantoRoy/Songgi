<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style_css.css">
  <title>Songgi</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/home.css">
</head>

<body>
  <nav class="songgi-main-navbar">
    <div class="songgi-nav-left-section">
      <div class="songgi-app-branding">
        <div class="songgi-brand-title">Songgi</div>
      </div>
      <div class="songgi-balance-display" id="songgiBalanceToggle">
        <img class="songgi-balance-placeholder-text" src="img/account.png" width="20px">&nbsp;
        <span class="songgi-balance-placeholder-text">Super Admin</span>
      </div>
    </div>

    <div class="songgi-nav-right-section">
      <div class="songgi-nav-icon-btn" id="songgiNotificationCenter">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
        <div class="songgi-notification-counter">5</div>
      </div>
    </div>
  </nav>
  <br>
  <div id="Content" style="min-height: 600px !important;">

    <!-- header section end -->

    <main class="main-wrapper bg-light">
      <!-- Slider Section Start-->
      <!-- Slider Section -->
      <div class="ad-slider-container" id="sliderContainer">
        <div class="ad-slider">
          <div class="ad-slide active">
            <img src="img/sliderimage2.png" alt="Slide 1">
          </div>
          <div class="ad-slide">
            <img src="img/sliderimage.png" alt="Slide 2">
          </div>
        </div>
        <div class="ad-navigation"></div>
      </div>
      <div class="songgi-overlay-bg" id="songgiOverlay" onclick="toggleSonggiSlideMenu()"></div>
      <div class="container">
        <!-- 4x3 Grid Cards -->
        <div class="grid">
          <a href="#" class="card" data-name="Supplier">
            <img src="img/vendor.png" alt="Supplier" class="card-icon">
            <p class="card-name">Supplier</p>
          </a>

          <a href="#" class="card" data-name="Requisition">
            <img src="img/request.png" alt="Requisition" class="card-icon">
            <p class="card-name">Requisition</p>
          </a>

          <a href="#" class="card" data-name="Unit">
            <img src="img/unit.png" alt="Unit" class="card-icon">
            <p class="card-name">Unit</p>
          </a>

          <a href="#" class="card" data-name="Stock">
            <img src="img/stock.png" alt="Stock" class="card-icon">
            <p class="card-name">Stock</p>
          </a>

          <a href="#" class="card" data-name="Raw Material Warehouse">
            <img src="img/warehouse.png" alt="Warehouse" class="card-icon">
            <p class="card-name">Raw Material Warehouse</p>
          </a>

          <a href="#" class="card" data-name="Dealer Entry">
            <img src="img/man.png" alt="Dealer Entry" class="card-icon">
            <p class="card-name">Dealer Entry</p>
          </a>

          <a href="#" class="card" data-name="Order Approve">
            <img src="img/stamp.png" alt="Approve" class="card-icon">
            <p class="card-name">Order Approve</p>
          </a>

          <a href="#" class="card" data-name="Product Entry">
            <img src="img/add-item.png" alt="Add Item" class="card-icon">
            <p class="card-name">Product Entry</p>
          </a>

          <a href="#" class="card" data-name="Raw Material">
            <img src="img/raw-materials.png" alt="Raw Material" class="card-icon">
            <p class="card-name">Raw Material</p>
          </a>

          <a href="#" class="card" data-name="Inventory">
            <img src="img/inventory.png" alt="Inventory" class="card-icon">
            <p class="card-name">Inventory</p>
          </a>

          <a href="#" class="card" data-name="Dispatch">
            <img src="img/delivery-truck.png" alt="Dispatch" class="card-icon">
            <p class="card-name">Dispatch</p>
          </a>

          <a href="#" class="card" data-name="Payment">
            <img src="img/wallet.png" alt="Payment" class="card-icon">
            <p class="card-name">Payment</p>
          </a>

          <a href="#" class="card" data-name="Orders">
            <img src="img/check-out.png" alt="Orders" class="card-icon">
            <p class="card-name">Orders</p>
          </a>

          <a href="#" class="card" data-name="Received">
            <img src="img/received.png" alt="Received" class="card-icon">
            <p class="card-name">Received</p>
          </a>

          <a href="#" class="card" data-name="Account">
            <img src="img/profile.png" alt="Account" class="card-icon">
            <p class="card-name">Account</p>
          </a>

          <a href="#" class="card" data-name="DSR Assign">
            <img src="img/report.png" alt="DSR Assign" class="card-icon">
            <p class="card-name">DSR Assign</p>
          </a>

          <a href="#" class="card" data-name="Delivery">
            <img src="img/delivery-man.png" alt="Delivery" class="card-icon">
            <p class="card-name">Delivery</p>
          </a>

          <a href="#" class="card" data-name="Customer Orders">
            <img src="img/material-management.png" alt="Customer Orders" class="card-icon">
            <p class="card-name">Customer Orders</p>
          </a>

          <a href="#" class="card" data-name="Commission">
            <img src="img/commision.png" alt="Commission" class="card-icon">
            <p class="card-name">Commission</p>
          </a>

          <a href="#" class="card" data-name="Management">
            <img src="img/management.png" alt="Management" class="card-icon">
            <p class="card-name">Management</p>
          </a>

          <!-- Extra man.png roles -->
          <a href="#" class="card" data-name="DSR Entry">
            <img src="img/man.png" alt="DSR Entry" class="card-icon">
            <p class="card-name">DSR Entry</p>
          </a>

          <a href="#" class="card" data-name="Customer Entry">
            <img src="img/man.png" alt="Customer Entry" class="card-icon">
            <p class="card-name">Customer Entry</p>
          </a>

          <a href="#" class="card" data-name="SR Entry">
            <img src="img/man.png" alt="SR Entry" class="card-icon">
            <p class="card-name">SR Entry</p>
          </a>
        </div>
      </div>

      <!-- Navigation Bar -->
      <div class="navbar">
        <div class="nav-item active" data-page="home">
          <i class="nav-icon fas fa-home"></i>

        </div>

        <div class="nav-item" data-page="history">
          <i class="nav-icon fas fa-chart-bar"></i>

        </div>

        <div class="nav-item" data-page="profile">
          <i class="nav-icon fas fa-user"></i>
        </div>
      </div>
      <script>
        class AdSlider {
          constructor(container) {
            this.container = container;
            this.slides = Array.from(container.querySelectorAll('.ad-slide'));
            this.navigation = container.querySelector('.ad-navigation');
            this.currentIndex = 0;
            this.autoPlayInterval = null;
            this.init();
          }

          init() {
            this.slides.forEach((_, index) => {
              const dot = document.createElement('div');
              dot.classList.add('ad-dot');
              if (index === 0) dot.classList.add('active');
              dot.addEventListener('click', () => this.goToSlide(index));
              this.navigation.appendChild(dot);
            });

            window.addEventListener('load', () => this.updateHeight());
            window.addEventListener('resize', () => this.updateHeight());

            this.startAutoPlay();
          }

          updateHeight() {
            const img = this.slides[this.currentIndex].querySelector('img');
            if (img.complete) {
              this.container.style.height = img.offsetHeight + 'px';
            } else {
              img.onload = () => {
                this.container.style.height = img.offsetHeight + 'px';
              };
            }
          }

          goToSlide(index) {
            this.slides[this.currentIndex].classList.remove('active');
            this.navigation.children[this.currentIndex].classList.remove('active');

            this.currentIndex = index;

            this.slides[this.currentIndex].classList.add('active');
            this.navigation.children[this.currentIndex].classList.add('active');

            this.updateHeight();
          }

          startAutoPlay() {
            this.autoPlayInterval = setInterval(() => {
              let nextIndex = (this.currentIndex + 1) % this.slides.length;
              this.goToSlide(nextIndex);
            }, 4000);
          }
        }

        document.addEventListener('DOMContentLoaded', () => {
          new AdSlider(document.querySelector('.ad-slider-container'));
        });

        // Check if searchInput exists before adding event listener
        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
          searchInput.addEventListener('input', function () {
            var searchValue = this.value.toLowerCase();
            var cards = document.querySelectorAll('.category-card-a');
            var container = document.querySelector('.category-grid');

            // If search is empty, reset display
            if (searchValue === '') {
              cards.forEach(function (card) {
                card.style.display = 'block';
                card.style.visibility = 'visible';
              });
              return;
            }

            // Hide all cards
            cards.forEach(function (card) {
              card.style.display = 'none';
              card.style.visibility = 'hidden';
            });

            // Filter and show matching cards
            var matchingCards = Array.from(cards).filter(function (card) {
              var englishName = card.querySelector('.category-name-english').textContent.toLowerCase();
              var bengaliName = card.querySelector('.category-name-bengali').textContent.toLowerCase();

              return englishName.includes(searchValue) || bengaliName.includes(searchValue);
            });

            // Show matching cards
            matchingCards.forEach(function (card) {
              card.style.display = 'block';
              card.style.visibility = 'visible';
            });

            // Reorder matching cards to the top
            matchingCards.forEach(function (card) {
              container.prepend(card);
            });
          });
        }
      </script>
      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const navItems = document.querySelectorAll('.nav-item');

          navItems.forEach((item, index) => {
            item.addEventListener('click', function (e) {
              e.preventDefault();

              // If this item is already active, do nothing
              if (this.classList.contains('active')) {
                return;
              }

              // Remove active class from all items
              navItems.forEach(nav => {
                nav.classList.remove('active');
              });

              // Add active class to clicked item
              this.classList.add('active');
            });
          });
        });
      </script>
      <script>
        function toggleSonggiSlideMenu() {
          const menu = document.getElementById('songgiSlideMenu');
          const overlay = document.getElementById('songgiOverlay');
          menu.classList.toggle('active');
          overlay.classList.toggle('active');
        }
      </script>
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const params = new URLSearchParams(window.location.search);
          const role = params.get("role");

          // Role wise card names
          const roleCards = {
            "1": ["Supplier", "Requisition", "Unit", "Stock", "Raw Material Warehouse", "Dealer Entry", "Order Approve",
              "Product Entry", "Raw Material", "Inventory", "Dispatch", "Payment", "Orders", "Received", "Account",
              "DSR Assign", "Delivery", "Customer Orders", "Commission", "Management", "DSR Entry", "Customer Entry", "SR Entry"],

            "2": ["Supplier", "Requisition", "Unit", "Received", "Stock", "Raw Material Warehouse"],

            "3": ["Received", "Stock", "Raw Material Warehouse"],

            "4": ["Product Entry", "Stock", "Raw Material Warehouse"],

            "5": ["Requisition", "Received", "Stock", "Payment", "Delivery", "Dealer Entry"],

            "6": ["Requisition", "Received", "Stock", "Payment", "Delivery", "DSR Entry"],

            "7": ["Requisition", "Customer Entry", "Payment"],

            "8": ["Order Approve", "SR Entry"],

            "9": ["Delivery", "Payment"]
          };

          // Cache cards in a map for fast access
          const cardsMap = {};
          document.querySelectorAll(".card").forEach(card => {
            const name = card.dataset.name;
            cardsMap[name] = card;
            card.style.display = "none"; // hide all in one loop
          });

          // Show only allowed ones
          if (role && roleCards[role]) {
            roleCards[role].forEach(name => {
              if (cardsMap[name]) {
                cardsMap[name].style.display = "block";
              }
            });
          }
        });
      </script>
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const params = new URLSearchParams(window.location.search);
          const role = params.get("role");

          // Role → Name mapping
          const roleNames = {
            "1": "Super Admin",
            "2": "Purchase Officer",
            "3": "Stock Keeper",
            "4": "Production Manager",
            "5": "Dipo Manager",
            "6": "Dealer",
            "7": "SR",
            "8": "Marketing Manager",
            "9": "DSR"
          };

          // Update the span text if role exists
          if (role && roleNames[role]) {
            const span = document.querySelector("#songgiBalanceToggle .songgi-balance-placeholder-text:last-child");
            if (span) {
              span.textContent = roleNames[role];
            }
          }
        });
      </script>


</body>

</html>